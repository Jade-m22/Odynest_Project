<% content_for :title, "Param√®tres | Odynest" %>
<section class="accessibility-settings container my-5">
  <h2 class="mb-4">Options d'accessibilit√©</h2>

  <!-- üß† Police sp√©ciale dyslexie -->
  <article class="card mb-4">
    <div class="card-body">
      <h5 class="card-title">Police OpenDyslexic</h5>
      <p class="card-text">
        Activez une police con√ßue pour am√©liorer la lisibilit√© chez les personnes dyslexiques.
      </p>
      <%= link_to(
            session[:dyslexic_font] ? "D√©sactiver la police" : "Activer la police OpenDyslexic",
            toggle_font_path,
            class: "btn btn-outline-primary"
          ) %>
    </div>
  </article>

  <!-- üëÅÔ∏è Mode daltonisme -->
  <article class="card">
    <div class="card-body">
      <h5 class="card-title">Filtre de vision des couleurs</h5>
      <p class="card-text">
        Choisissez un filtre de couleurs adapt√© √† votre type de vision. Cela peut am√©liorer la lisibilit√© pour les personnes atteintes de daltonisme.
      </p>

      <%= form_with url: set_daltonism_path, method: :get, local: true do %>
        <div class="mb-3">
          <%= select_tag :mode,
              options_for_select([
                ['Aucun filtre', 'normal'],
                ['Protanopie (rouge)', 'protanopia'],
                ['Deut√©ranopie (vert)', 'deuteranopia'],
                ['Tritanopie (bleu)', 'tritanopia'],
                ['Achromatopsie (aucune couleur)', 'achromatopsia']
              ], session[:daltonism_mode] || 'normal'),
              class: "form-select" %>
        </div>
        <%= submit_tag "Appliquer", class: "btn btn-outline-primary" %>
      <% end %>
    </div>
  </article>
</section>
